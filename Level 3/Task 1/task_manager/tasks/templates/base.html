<!-- Base Template -->
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Task Manager{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>
        @media (max-width: 768px) {
            .nav-links {
                flex-direction: column;
                gap: 0.5rem;
            }

            .button-group {
                flex-direction: column;
            }

            .button-group .btn {
                width: 100%;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .task-header {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>Task Manager</h1>
            </div>
            {% if user.is_authenticated %}
            <div class="nav-links">
                <span class="user-greeting">Welcome, {{ user.username }}{% if user.is_staff %} (Admin){% endif %}</span>
                <a href="{% url 'home' %}">Home</a>
                <a href="{% url 'view_my_tasks' %}">My Tasks</a>
                <a href="{% url 'add_task' %}">Add Task</a>
                {% if user.is_staff %}
                <a href="{% url 'view_all_tasks' %}">All Tasks</a>
                <a href="{% url 'register' %}">Register User</a>
                <a href="{% url 'reports' %}">Reports</a>
                {% endif %}
                <a href="{% url 'logout' %}" class="logout-btn">Logout</a>
            </div>
            {% endif %}
        </div>
    </nav>

    <div class="container">
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}

        {% block content %}{% endblock %}
    </div>
</body>
</html>