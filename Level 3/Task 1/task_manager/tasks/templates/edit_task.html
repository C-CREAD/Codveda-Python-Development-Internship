<!-- Edit Task Template -->
{% extends 'base.html' %}

{% block title %}Edit Task - Task Manager{% endblock %}

{% block content %}
<div class="form-container">
    <h2>Edit Task: {{ task.title }}</h2>
    <form method="post" class="form-box">
        {% csrf_token %}

        <div class="form-group">
            {{ form.assignee.label_tag }}
            {{ form.assignee }}
            {% if form.assignee.errors %}<div class="error">{{ form.assignee.errors }}</div>{% endif %}
        </div>

        <div class="form-group">
            {{ form.due_date.label_tag }}
            {{ form.due_date }}
            {% if form.due_date.errors %}<div class="error">{{ form.due_date.errors }}</div>{% endif %}
        </div>

        <div class="form-group">
            {{ form.is_completed.label_tag }}
            {{ form.is_completed }}
            {% if form.is_completed.errors %}<div class="error">{{ form.is_completed.errors }}</div>{% endif %}
        </div>

        {% if task.is_completed == 'No' %}
        <button type="submit" class="btn btn-primary">Save Changes</button>
        {% else %}
        <button type="submit" class="btn btn-primary" disabled>Save Changes</button>
        {% endif %}
        <a href="{% url 'view_my_tasks' %}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}